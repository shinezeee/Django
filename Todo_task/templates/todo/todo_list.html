{% extends 'todo/base.html' %}
{% block title %}Todo List{% endblock %}
{% block content %}
    <div class="container text-center" style="max-width: 500px;">
        {% if request.user.is_authenticated %}
        <h1 class="my-4">ğŸ“‹ {{ request.user.username }}'s Todo List ğŸ“‹</h1>
        <a href= "{% url 'cb_todo_create' %}" class="btn btn-success mb-3">â•</a>
        <form method="GET" action="{% url 'cb_todo_list' %}" class="d-flex ms-3 mb-3">
                <input class="form-control me-2" type="text" name="q" placeholder="ê²€ìƒ‰ì–´ ì…ë ¥" value="{{ request.GET.q }}">
                <button type="submit" class="btn btn-outline-success">ğŸ”</button>
        </form>
         <ul class="list-group ">
            {% for todo in object_list %}
                  <li class="list-group-item d-flex list-group-item-action">
                    <a href="{% url 'cb_todo_info' todo.id %}" class="stretched-link"></a>
                    <div class="thumbnail-box me-3">
                      <img src="{{ todo.get_thumbnail_url }}" alt="ì¸ë„¤ì¼" class="thumbnail-img">
                    </div>
                    <div class="flex-grow-1 d-flex align-items-center">
                        {% if todo.is_done %}
                            <span class="text-success me-2">âœ…</span>
                        {% else %}
                            <span class="text-warning me-2">ğŸš§</span>
                        {% endif %}
                        <span class="text-dark link-success {% if todo.is_done %}text-muted text-decoration-line-through{% endif %}">
                            {{ todo.title }}</span>
                  </div>
              </li>
            {% empty %}
            <li class="list-group-item">í•  ì¼ì´ ì—†ìŠµë‹ˆë‹¤.</li>
            {% endfor %}
         </ul>
            {% include 'todo/pagination.html' %}
        {%endif %}
    </div>
    <style>
    .thumbnail-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .thumbnail-box {
        width: 50px;
        height: 50px;
        overflow: hidden;
        border-radius: 5px;
    }

    </style>

{% endblock %}